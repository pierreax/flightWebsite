/* Define Modern Color Variables */
:root {
    /* Base Colors */
    --background-color: #F2F2F2; /* Very Light Gray background */
    --surface-color: #FFFFFF; /* White surfaces */
    --text-color: #333333; /* Dark Gray text */
    --border-color: #E0E0E0; /* Light Gray borders */

    /* Primary Palette */
    --primary-color: #2D9CDB; /* Deep Blue */
    --primary-hover: #2381C3; /* Slightly darker Deep Blue for hover */
    --secondary-color: #56CCF2; /* Soft Teal */
    --secondary-hover: #3FA3D3; /* Slightly darker Soft Teal for hover */

    /* Accent Colors */
    --accent-color: #F2994A; /* Warm Orange */
    --error-color: #FF6B6B; /* Coral Red */

    /* Loader Colors */
    --loader-border: #EEEEEE; /* Very Light Gray */
    --loader-bg: var(--primary-color); /* Deep Blue */

    /* Slider Colors */
    --slider-bg: #BDBDBD; /* Medium Gray */
    --slider-active-bg: var(--secondary-color); /* Soft Teal */

    /* Table Header */
    --tableheader-color: var(--secondary-color); /* Soft Teal */

    /* No Results Message */
    --no-results-bg: #F8D7DA; /* Light Coral */
    --no-results-text: #721C24; /* Dark Coral */

    /* Checkbox */
    --checkbox-primary: var(--primary-color); /* Deep Blue */

    /* Additional Variables */
    --card-shadow: rgba(0, 0, 0, 0.1);
    --card-hover-shadow: rgba(0, 0, 0, 0.2);
    --checkbox-size: 20px;
    --transition-duration: 0.3s;
    --border-radius: 8px;
    --font-size-small: 12px;
    --font-size-medium: 14px;
}

/* Fonts */
@font-face {
    font-family: 'Avenir Light';
    src: url('Avenir Light.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
}

/* Global styles */
body {
    font-family: 'Avenir Light', sans-serif;
    margin: 20px;
    background-color: var(--background-color);
    box-sizing: border-box; /* Ensure box-sizing is applied to the body */
}

h1, h2 {
    color: var(--text-color);
    margin: 0;
    text-align: center;
    padding: 10px;
    font-weight: normal;
}

h1 {
    font-size: 1.2em;
}

h2 {
    font-size: 1.0em;
}

/* Styles for the clickable link */
a.destinations-link {
    display: block;
    text-align: center;
    margin: auto;
    padding: 10px;
    max-width: 300px;
    background-color: var(--accent-color);
    color: var(--surface-color);
    text-decoration: none;
    font-family: 'Avenir Light', sans-serif;
    font-size: 14px;
    border-radius: 5px;
    transition: background-color var(--transition-duration), transform 0.2s;
}

a.destinations-link:hover,
a.destinations-link:active {
    background-color: var(--input-background);
    transform: translateY(-2px);
}

#maxPricePerPerson {
    margin-top: 5px;
}

/* IATA FIELD DROPDOWNS */

/* Custom styles for the autocomplete dropdown */
.ui-autocomplete {
    background-color: var(--input-background); /* Matches form input background */
    border: 1px solid var(--border-color); /* Consistent with form input borders */
    border-radius: 5px; /* Match input border radius */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Soft shadow to match the form */
    max-height: 200px; /* Limit the height of the dropdown */
    overflow-y: auto; /* Enable scrolling if there are too many results */
    font-family: 'Avenir Light', sans-serif; /* Consistent font */
    color: var(--text-color); /* Text color */
    z-index: 9999; /* Ensure it's above other content */
}

/* Style for individual items in the dropdown */
.ui-autocomplete li {
    padding: 8px 10px;
    cursor: pointer;
    font-size: 14px; /* Adjust font size for readability */
}

/* Change the background when hovering over an item */
.ui-autocomplete li:hover {
    background-color: var(--accent-color); /* Accent color on hover */
    color: var(--surface-color); /* Ensure text is readable on hover */
}

/* Style the highlighted item when selected */
.ui-state-focus {
    background-color: var(--primary-color); /* Matches button background */
    color: var(--surface-color); /* Ensure text is visible on hover */
}

/* Style the scrollbar */
.ui-autocomplete::-webkit-scrollbar {
    width: 8px;
}

.ui-autocomplete::-webkit-scrollbar-thumb {
    background-color: var(--border-color); /* Same color as borders */
    border-radius: 4px;
}

.ui-autocomplete::-webkit-scrollbar-track {
    background-color: var(--background-color); /* Matches the input background */
}

/* Form styles */
form {
    position: relative;
    max-width: 300px;
    margin: 20px auto;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    background: var(--surface-color);
    display: flex;
    flex-direction: column; /* Ensure form elements stack vertically */
    box-sizing: border-box; /* Ensure box-sizing is applied to the form */
}

/* Wrapper styles */
.input-wrapper {
    position: relative;
    margin-bottom: 20px; /* Space between fields */
}

/* Input and select fields */
input, select {
    width: 100%;
    padding: 12px;
    box-sizing: border-box;
    border-radius: 5px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    border: 1px solid var(--border-color);
    background: var(--surface-color);
    font-family: 'Avenir Light', sans-serif;
    font-size: 14px; /* Adjust font size */
    color: var(--text-color);
    text-align: center;
}

.form-control, .form-control:focus {
    background: var(--surface-color);
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(45, 156, 219, 0.2); /* Deep Blue shadow */
}

/* Ensure consistent width for dropdowns within .input-group */
.input-group {
    display: flex;
    gap: 10px; /* Space between fields */
    width: 100%; /* Make sure it takes the full width available */
}

.input-group .input-wrapper {
    flex: 1; /* Each input-wrapper will take equal space */
    min-width: 0; /* Prevent items from exceeding their container */
}

.input-group select {
    width: 100%; /* Ensure dropdowns fill the width of their container */
}

/* Floating label styles */
.floating-label {
    position: relative;
    color: var(--text-color);
}

.floating-label input,
.floating-label select {
    border: 1px solid var(--border-color);
    padding: 10px;
    width: 100%;
    background: var(--surface-color);
    -webkit-appearance: none;
}

.floating-label label {
    position: absolute;
    pointer-events: none;
    left: 10px;
    top: 8px; /* Adjust position for unfocused state */
    transition: 0.2s ease all;
    color: var(--text-color);
    padding: 0px;
    font-size: 8px; /* Adjust font size for initial state */
}

/* Floating label transitions */
.floating-label input:focus ~ label,
.floating-label input:not(:placeholder-shown) ~ label,
#currency ~ label { /* This targets the label for the currency field specifically */
    top: -12px; /* Move above the input field */
    left: 8px;
    font-size: 10px; /* Adjust font size when focused or filled */
    color: var(--primary-color);
}

/* Centering switch labels and switches */
.form-group.switches {
    display: flex;
    align-items: center; /* Centers items vertically in the container */
    justify-content: space-between; /* Distributes space between items */
    gap: 10px; /* Adds space between each switch */
}

.form-group.switches > div {
    display: flex;
    flex-direction: column;
    align-items: center; /* Centers the content (both label and switch) vertically */
    width: 100%; /* Ensures the div takes up the full width of its parent */
}

.form-group.switches .switch {
    position: relative;
    display: inline-block;
    width: 40px; /* Width of the switch */
    height: 20px; /* Height of the switch */
    margin: 5px 0;
    background-color: var(--slider-bg); /* Background for the switch */
    border-radius: 24px; /* Fully rounded corners */
    transition: background-color var(--transition-duration);
}

/* Hide default HTML checkbox */
.form-group.switches .switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

/* The slider */
.form-group.switches .switch .slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--slider-bg);
    transition: .4s;
    border-radius: 24px; /* Fully rounded corners for the slider */
}

.form-group.switches .switch .slider:before {
    position: absolute;
    content: "";
    height: 20px; /* Height of the circle inside the slider */
    width: 20px; /* Width of the circle inside the slider */
    left: 0px;
    background-color: var(--surface-color);
    transition: .4s;
    border-radius: 50%; /* Circular shape for the slider */
}

/* Change background when checked */
.form-group.switches .switch input:checked + .slider {
    background-color: var(--slider-active-bg) !important; /* Color when the switch is active/checked */
}

.form-group.switches .switch input:checked + .slider:before {
    transform: translateX(20px); /* Move the circle to the right on check */
}

/* Focus styles for accessibility */
.form-group.switches .switch input:focus + .slider {
    box-shadow: 0 0 1px var(--slider-active-bg); /* Optional: add a box-shadow when the switch is focused */
}

/* Specific fix for the 'Travel duration (max)' label */
#maxFlightDuration + .small-label::after {
    content: " (max)";
    display: block; /* Makes the pseudo-element behave like a block, putting it on a new line */
    font-size: smaller; /* Optional: makes the '(max)' font size smaller */
}

/* Airplane icon styles */
.airplane-icon {
    position: absolute;
    left: 10px; /* Adjust based on your specific spacing requirements */
    z-index: 3; /* Ensures icon is above the select box */
    width: 24px; /* Specify width for consistency */
    height: 24px; /* Maintain aspect ratio */
}

.form-group.iata-field {
    position: relative; /* Needed for absolute positioning of icons */
    display: flex;
    align-items: center;
    width: 100%; /* Full width of its container */
}

#iataCodeTo, #iataCodeFrom {
    text-align: center;
}

/* Adjust the switch icon container */
.switch-icon-container {
    display: flex;
    justify-content: center;
    position: absolute;
    right: 15%; /* Positions the icon exactly between the two fields */
    transform: translateX(50%) translateY(-50%); /* Adjust horizontally and vertically */
    z-index: 2; /* Ensures the icon is clickable */
}

.switch-icon {
    cursor: pointer;
    width: 20px; /* Adjust based on your icon's size */
    height: auto;
    left: 10px; /* Adjust as necessary, depending on padding */
}

/* Ensure the airplane icons and selects fill their containers without additional space for the switch icon */
.airplane-icon, .iata-field select {
    max-width: calc(100% - 30px); /* Adjust the width to account for the icon */
}

/* Specific adjustments to ensure layout does not break */
.iata-field:first-child {
    margin-right: 20px; /* Adds some space between the fields */
}

.iata-field:last-child {
    margin-left: 20px; /* Adjust if needed to balance the layout */
}

/* Ensure the select fields and airplane icons fill the form */
.iata-field select,
.iata-field .airplane-icon {
    max-width: calc(100% - 20px); /* Adjust width considering the switch icon width */
    flex-grow: 1;
}

/* Extra padding above the switches */
.switches {
    padding-top: 10px;
}

#inbound-timeRangeDisplay,
#outbound-timeRangeDisplay {
    font-size: 12px;
    font-family: 'Avenir Light', sans-serif;
    text-align: center; /* Center the text */
    width: 100%; /* Ensure the divs take up the full width */
    margin: 10px 0; /* Add some margin for better spacing */
}

/* Make sure the sliders are full width within the form */
.time-slider {
    margin: 0 0 20px 0; /* Add some margin below the slider */
    padding: 0 10px; /* Padding to prevent the handles from being cut off on the sides */
}

/* Handle styles with !important to ensure override */
.noUi-handle {
    border-radius: 50% !important; /* Makes the handle circular */
    background-color: var(--primary-color) !important; /* Use the primary color for consistency */
    border: none !important; /* Removes default border */
    box-shadow: 0 0 8px rgba(0,0,0,0.3) !important; /* Adds a shadow for a more lifted look */
    cursor: pointer !important; /* Changes cursor to pointer to indicate it's draggable */
}

.noUi-handle:after, .noUi-handle:before {
    content: "";
    display: block;
    position: absolute;
    height: 14px;
    width: 1px;
    left: 14px;
    background-color: var(--primary-color) !important; /* Use the primary color for consistency */
    top: 6px;
}

.noUi-horizontal .noUi-handle-lower {
    width: 25px !important;
    height: 21px !important;
    right: -10px !important;
    top: -3px !important;
}

.noUi-horizontal .noUi-handle-upper {
    width: 25px !important;
    height: 21px !important;
    right: -16px !important;
    top: -3px !important;
}

/* Touch area styles */
.noUi-touch-area {
    cursor: pointer !important; /* Ensures the cursor changes to pointer in the touch area */
}

/* Slider background */
.noUi-base {
    background-color: var(--slider-bg) !important; /* Background color of the slider */
}

/* Connect bar styles */
.noUi-connect {
    background-color: var(--background-color) !important; /* Color of the active (selected) range */
}

.noUi-target {
    background: none !important;
}

/* Add flexbox alignment to switch-row in the Advanced Settings */
.switch-row {
    display: flex;
    align-items: center;
    justify-content: space-between; /* Align items with space between */
    gap: 10px; /* Add gap to space the labels and switches */
}

/* Ensure the switch labels are aligned with the switches */
.switch-label {
    font-size: 10px;
    color: var(--text-color);
    text-align: center;
    flex-grow: 1; /* Ensures labels are evenly spaced */
    margin-top: 5px;
}

.form-group {
    text-align: center; /* Center the select dropdown if desired */
    position: relative; /* Needed for positioning the switch icon absolutely */
}

/* Submit button styles */
input[type="submit"] {
    background-color: var(--primary-color);
    color: var(--surface-color);
    padding: 10px;
    border: none;
    margin-top: 12px;
    cursor: pointer;
    transition: background-color var(--transition-duration), transform 0.2s;
    border-radius: 5px;
    text-align: center;
    font-family: 'Avenir Light', sans-serif;
}

/* Disabled button styles */
#submitFormButton:disabled {
    background-color: var(--border-color); /* Light Gray */
    color: #6C757D; /* Darker Gray */
    cursor: not-allowed; /* Cursor to indicate the button is not clickable */
}

input[type="submit"]:hover,
input[type="submit"]:active {
    background-color: var(--primary-hover);
    transform: translateY(-2px);
}

/* Suggest price button styles */
#suggestPriceBtn {
    position: relative; /* Make this a relative container for absolute positioning inside */
    background-color: var(--primary-color);
    color: var(--surface-color);
    padding: 10px;
    border: none;
    cursor: pointer;
    transition: background-color var(--transition-duration), transform 0.2s;
    border-radius: 5px;
    font-family: 'Avenir Light', sans-serif;
    width: 100%;
    margin-top: 10px;
    margin-bottom: 0px;
}

#suggestPriceBtn:hover,
#suggestPriceBtn:active {
    background-color: var(--primary-hover);
    transform: translateY(-2px);
}

/* Label for advanced settings toggle */
#advancedSettingsToggle {
    background-color: transparent; /* Remove background color for a label-like appearance */
    color: var(--text-color);
    cursor: pointer;
    font-family: 'Avenir Light', sans-serif;
    font-size: 8px; /* Adjust font size for visibility */
    display: inline-flex; /* Use inline-flex to keep label and symbol in the same line */
    align-items: center;
    justify-content: center;
    transition: color var(--transition-duration);
}

/* Icon before the text */
#advancedSettingsToggle::before {
    content: "+"; /* "+" icon by default */
    margin-right: 5px; /* Space between icon and text */
    font-size: 8px; /* Icon size to match the text */
    transition: transform 0.2s; /* Smooth transition for rotation */
}

/* Rotate icon when expanded */
#advancedSettingsToggle.expanded::before {
    content: "\2212"; /* "âˆ’" icon for expanded state */
}

/* Select2 container and selections styles */
.select2-container--default .select2-selection--multiple {
    background-color: var(--surface-color) !important; /* Match with your form's background color */
    border: 1px solid var(--border-color) !important; /* Match with your form's border color */
    border-radius: 4px !important; /* Optional: match with your form's border-radius */
}

/* Adjust the height of the selection container to eliminate white space */
.select2-container--default .select2-selection--multiple .select2-selection__rendered {
    padding: 4px 8px !important; /* Adjust padding to ensure content fits nicely */
    line-height: 1.5 !important; /* Adjust line height for better visual */
}

/* Style for the search input within the selection */
.select2-container--default .select2-selection--multiple .select2-search--inline .select2-search__field {
    background-color: var(--surface-color) !important; /* Ensure background matches */
    border: none !important; /* Remove any default border */
}

/* Placeholder color adjustment for consistency */
.select2-container--default .select2-selection--multiple .select2-search--inline .select2-search__field::placeholder {
    color: var(--text-color) !important; /* Optional: adjust placeholder text color */
}

/* When focusing on the search field, remove the outline or adjust as necessary */
.select2-container--default .select2-selection--multiple .select2-search--inline .select2-search__field:focus {
    outline: none !important; /* Remove outline */
    border: none !important; /* Ensure no border appears */
}

/* Loader animation styles */
.loader {
    display: none; /* Hide loader initially */
    position: absolute; /* Position absolute relative to the form */
    top: 50%; /* Center vertically in the form */
    left: 50%; /* Center horizontally in the form */
    transform: translate(-50%, -50%); /* Adjust the positioning correctly */
    z-index: 1000; /* Make sure it's above other elements */
    border: 4px solid var(--loader-border);
    border-radius: 50%;
    border-top: 4px solid var(--loader-bg);
    width: 30px;
    height: 30px;
    -webkit-animation: spin 2s linear infinite; /* Safari */
    animation: spin 2s linear infinite;
}

/* Keyframes for spinner */
@-webkit-keyframes spin {
   0% { -webkit-transform: rotate(0deg); }
   100% { -webkit-transform: rotate(360deg); }
}

@keyframes spin {
   0% { transform: rotate(0deg); }
   100% { transform: rotate(360deg); }
}

/* Help button and tooltip styles */
#helpBtn {
    position: absolute;
    top: 5px; /* Adjust as needed */
    right: 5px; /* Adjust as needed */
    width: 20px;
    height: 20px;
    line-height: 20px;
    text-align: center;
    border-radius: 50%;
    background-color: var(--primary-color);
    color: var(--surface-color);
    font-size: 14px;
    cursor: pointer;
}

#tooltip {
    display: none;
    position: absolute;
    background-color: var(--surface-color);
    border: 1px solid var(--border-color);
    padding: 5px;
    border-radius: 5px;
    width: 200px; /* Adjust as needed */
    z-index: 1000;
    margin-left: 35px; /* Position to the right of the help button */
    margin-top: -5px; /* Position aligned with the help button */
}

/* Increased specificity for disabled input fields */
form .form-group .disabled-input {
    background-color: var(--slider-bg); /* Light gray for background */
    color: #9e9e9e; /* Dimmed text color */
}

/* Modal Styles */
.modal-dialog {
    display: flex;
    align-items: start;
    justify-content: center;  /* Center horizontally */
    min-height: 100vh; /* Ensures it covers the full viewport height */
}

/* Modal Content */
.modal-content {
    background-color: var(--surface-color);
    border-radius: 10px;
    border: 1px solid var(--border-color);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    font-family: 'Avenir Light', sans-serif;
}

/* Modal Header */
.modal-header {
    background-color: var(--accent-color);
    color: var(--surface-color);
    border-bottom: 1px solid var(--border-color);
    font-size: 1.2em;
    font-weight: normal;
    padding: 15px;
}

.modal-title {
    font-family: 'Avenir Light', sans-serif;
}

/* Close button in header */
.modal-header .btn-close {
    color: var(--surface-color);
    opacity: 1;
    background: transparent;
}

/* Modal Body */
.modal-body {
    padding: 20px;
    color: var(--text-color);
    font-size: 1em;
    text-align: center;
}

/* Modal Footer */
.modal-footer {
    border-top: 1px solid var(--border-color);
    padding: 15px;
    justify-content: center;
}

/* Buttons inside Modal */
.modal-footer .btn-primary {
    background-color: var(--primary-color);
    border: none;
    color: var(--surface-color);
    font-family: 'Avenir Light', sans-serif;
    transition: background-color var(--transition-duration);
}

.modal-footer .btn-primary:hover {
    background-color: var(--primary-hover);
}

.modal-footer .btn-secondary {
    background-color: var(--background-color);
    border: 1px solid var(--border-color);
    color: var(--text-color);
    font-family: 'Avenir Light', sans-serif;
}

.modal-footer .btn-secondary:hover {
    background-color: var(--surface-color);
}

/* Reset default mobile browser styles */
input:-webkit-autofill {
    transition: background-color 5000s ease-in-out 0s;
}

/* General reset for appearance */
input[list] {
    appearance: none !important;
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    -ms-appearance: none !important;
}

/* Hide the default arrow in input fields with list attribute */
input[list]::-webkit-calendar-picker-indicator,
input[list]::-webkit-clear-button,
input[list]::-webkit-inner-spin-button,
input[list]::-webkit-outer-spin-button,
input[list]::-ms-clear,
input[list]::-ms-expand {
    display: none !important;
    -webkit-appearance: none !important;
}

/* Ensuring no dropdown on hover or focus */
input[list]:hover,
input[list]:focus {
    appearance: none !important;
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    -ms-appearance: none !important;
}

/* Specific fix for the arrow in some browsers */
input[list]::-webkit-search-cancel-button,
input[list]::-webkit-search-decoration {
    display: none !important;
}

/* Edge-specific CSS hack */
@supports (-ms-ime-align: auto) {
    input[list]::-ms-expand {
        display: none !important;
    }
}
